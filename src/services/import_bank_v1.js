/**
 * import_bank_v1.js
 * ุงุณุชูุฑุงุฏ ุจูู ุงูุฃุณุฆูุฉ Islamic & Cultural Question Bank - v1.0
 * ูุชุญูููู ุฅูู ุงูุตูุบุฉ ุงูููุญุฏุฉ ุงููุณุชุฎุฏูุฉ ูู ูุดุฑูุน "ูุณุงุจูุงุช ุงูุณูุทุงู".
 *
 * Usage:
 *   node src/services/import_bank_v1.js
 *
 * ุงููุงุชุฌ:
 *   data/questions_bank_v1.json  // ูุตูููุฉ ุฃุณุฆูุฉ ุจุตูุบุฉ ููุญุฏุฉ (mcq)
 *
 * ุซู ูููู ุฅุฏุฎุงููุง ุฅูู ุงููุงุนุฏุฉ ุนุจุฑ:
 *   node seed/seed_questions.js data/questions_bank_v1.json
 */

const fs = require("fs");
const path = require("path");

const { validateQuestions } = require("../validators/questionValidator");
const { cleanArabicText, classifyCategory, classifyDifficulty } = require("./ingest");

const OUTPUT_PATH = path.join(__dirname, "..", "..", "data", "questions_bank_v1.json");

/**
 * ุงูุจูุงูุงุช ุงูุฎุงู ููุง ุฒูุฏูุง ุจูุง ุงููุณุชุฎุฏู
 * ููุงุญุธุฉ: ุชู ุงูุจุฏุก ูู id = 2 ูุฃู ุงูุณุคุงู ุงูุฃูู ูุงู ุบูุฑ ููุชูู ูู ุงููุต ุงูุฃุตูู.
 */
const RAW_QUESTIONS = [
  {
    id: 2,
    category: "Sahaba",
    difficulty: 2,
    question: "ูู ูู ุงูุตุญุงุจู ุงูุฐู ุงูุชุฒ ูููุชู ุนุฑุด ุงูุฑุญููุ",
    options: ["ุณุนุฏ ุจู ูุนุงุฐ", "ุณุนุฏ ุจู ุฃุจู ููุงุต", "ูุตุนุจ ุจู ุนููุฑ", "ุญูุฒุฉ ุจู ุนุจุฏ ุงููุทูุจ"],
    answer: "ุณุนุฏ ุจู ูุนุงุฐ",
    insight: "ุชููู ูุชุฃุซุฑุงู ุจุฌุฑุงุญู ุจุนุฏ ุบุฒูุฉ ุงูุฎูุฏู ูุญููู ูู ุจูู ูุฑูุธุฉ."
  },
  {
    id: 3,
    category: "Seerah",
    difficulty: 2,
    question: "ูู ูุงู ุนูุฑ ุงููุจู ุตูู ุงููู ุนููู ูุณูู ุนูุฏ ููุงุฉ ุฃูู ุขููุฉุ",
    options: ["6 ุณููุงุช", "4 ุณููุงุช", "8 ุณููุงุช", "ุณูุชุงู"],
    answer: "6 ุณููุงุช",
    insight: "ุชูููุช ุจุงูุฃุจูุงุก ุจูู ููุฉ ูุงููุฏููุฉ ููู ุงุจู ุณุช ุณููู."
  },
  {
    id: 4,
    category: "History",
    difficulty: 3,
    question: "ูู ุฃู ูุนุฑูุฉ ุงูุชุตุฑ ุงููุณูููู ุนูู ุงููุบูู ูุฃููููุง ุฒุญูููุ",
    options: ["ุนูู ุฌุงููุช", "ุญุทูู", "ุงููุงุฏุณูุฉ", "ุงููุฑููู"],
    answer: "ุนูู ุฌุงููุช",
    insight: "ุจููุงุฏุฉ ุณูู ุงูุฏูู ูุทุฒ ุนุงู 658 ูู."
  },
  {
    id: 5,
    category: "Culture",
    difficulty: 1,
    question: "ูุง ูู ุฃุทูู ููุฑ ูู ุงูุนุงููุ",
    options: ["ููุฑ ุงูููู", "ููุฑ ุงูุฃูุงุฒูู", "ููุฑ ุงููุฑุงุช", "ููุฑ ุงููุณูุณูุจู"],
    answer: "ููุฑ ุงูููู",
    insight: "ููุน ูู ูุงุฑุฉ ุฃูุฑูููุง ููุตุจ ูู ุงูุจุญุฑ ุงููุชูุณุท."
  },
  {
    id: 6,
    category: "Islamic_Info",
    difficulty: 3,
    question: "ูุง ูู ุงูุณูุฑุฉ ุงูุชู ุฐูุฑ ููุธ ุงูุฌูุงูุฉ 'ุงููู' ูู ูู ุขูุงุชูุงุ",
    options: ["ุงููุฌุงุฏูุฉ", "ุงูููู", "ุงููุงูุนุฉ", "ุงูุญุฏูุฏ"],
    answer: "ุงููุฌุงุฏูุฉ",
    insight: "ูู ุงูุณูุฑุฉ ุฑูู 58 ูู ุชุฑุชูุจ ุงููุตุญู."
  },
  {
    id: 7,
    category: "Sahaba",
    difficulty: 2,
    question: "ูู ูู ุงูุตุญุงุจู ุงููููุจ ุจู 'ุฐู ุงูููุฑูู'ุ",
    options: ["ุนุซูุงู ุจู ุนูุงู", "ุนูู ุจู ุฃุจู ุทุงูุจ", "ุฃุจู ุจูุฑ ุงูุตุฏูู", "ุทูุญุฉ ุจู ุนุจูุฏ ุงููู"],
    answer: "ุนุซูุงู ุจู ุนูุงู",
    insight: "ูููุจ ุจุฐูู ูุฒูุงุฌู ูู ุงุจูุชู ุงููุจู ุฑููุฉ ุซู ุฃู ููุซูู."
  },
  {
    id: 8,
    category: "History",
    difficulty: 2,
    question: "ูู ูู ูุคุณุณ ุงูุฏููุฉ ุงูุนุจุงุณูุฉุ",
    options: ["ุฃุจู ุงูุนุจุงุณ ุงูุณูุงุญ", "ูุงุฑูู ุงูุฑุดูุฏ", "ุงููุฃููู", "ุฃุจู ุฌุนูุฑ ุงูููุตูุฑ"],
    answer: "ุฃุจู ุงูุนุจุงุณ ุงูุณูุงุญ",
    insight: "ูู ุนุจุฏ ุงููู ุจู ูุญูุฏ ุจู ุนูู ุจู ุนุจุฏ ุงููู ุจู ุนุจุงุณ."
  },
  {
    id: 9,
    category: "Culture",
    difficulty: 2,
    question: "ูุง ูู ุงูุญููุงู ุงูุฐู ููุนุฑู ุจุฃูู ูุง ูุตุฏุฑ ุตูุชุงูุ",
    options: ["ุงูุฒุฑุงูุฉ", "ุงูุณูุญูุงุฉ", "ุงูุฃุฑูุจ", "ุงูุญุตุงู"],
    answer: "ุงูุฒุฑุงูุฉ",
    insight: "ูุนุฏู ุงูุชูุงููุง ุฃุญุจุงูุงู ุตูุชูุฉ ุชูููุฏูุฉ."
  },
  {
    id: 10,
    category: "Seerah",
    difficulty: 2,
    question: "ูุง ูู ุขุฎุฑ ุบุฒูุฉ ูุงุฏูุง ุงููุจู ุตูู ุงููู ุนููู ูุณููุ",
    options: ["ุชุจูู", "ุญููู", "ูุคุชุฉ", "ุงููุชุญ"],
    answer: "ุชุจูู",
    insight: "ููุนุช ูู ุฑุฌุจ ุณูุฉ 9 ูู ูุชุณูู ุบุฒูุฉ ุงูุนุณุฑุฉ."
  },
  {
    id: 11,
    category: "Islamic_Info",
    difficulty: 4,
    question: "ุฑุฌู ุชููู ูุชุฑู ุฒูุฌุฉ ูุจูุชุ ูู ูุตูุจ ุงูุฒูุฌุฉุ",
    options: ["ุงูุซูู", "ุงูุฑุจุน", "ุงููุตู", "ุงูุณุฏุณ"],
    answer: "ุงูุซูู",
    insight: "ููุฌูุฏ ุงููุฑุน ุงููุงุฑุซ (ุงูุจูุช) ููู ูุตูุจ ุงูุฒูุฌุฉ ูู ุงูุฑุจุน ุฅูู ุงูุซูู."
  },
  {
    id: 12,
    category: "History",
    difficulty: 3,
    question: "ูู ูู ุงููุงุฆุฏ ุงูุฐู ูุชุญ ุงููุณุทูุทูููุฉุ",
    options: ["ูุญูุฏ ุงููุงุชุญ", "ุณูููุงู ุงููุงูููู", "ุณููู ุงูุฃูู", "ุจุงูุฒูุฏ ุงูุฃูู"],
    answer: "ูุญูุฏ ุงููุงุชุญ",
    insight: "ุงูุณูุทุงู ูุญูุฏ ุงูุซุงูู ุนุงู 1453ูุ ูุญูู ุจุฐูู ุงูุจุดุงุฑุฉ ุงููุจููุฉ."
  },
  {
    id: 13,
    category: "Culture",
    difficulty: 2,
    question: "ุฃูู ููุน ููุฑ ูุญููุฉ ุงูุนุฏู ุงูุฏูููุฉุ",
    options: ["ูุงูุงู", "ุฌููู", "ูููููุฑู", "ุจุงุฑูุณ"],
    answer: "ูุงูุงู",
    insight: "ุชูุน ูู ููููุฏุง ููู ุงูุฐุฑุงุน ุงููุถุงุฆู ููุฃูู ุงููุชุญุฏุฉ."
  },
  {
    id: 14,
    category: "Sahaba",
    difficulty: 2,
    question: "ูู ูู ุฃูู ูู ุฑูู ุณููุงู ูู ุณุจูู ุงูููุ",
    options: ["ุณุนุฏ ุจู ุฃุจู ููุงุต", "ุงูุฒุจูุฑ ุจู ุงูุนูุงู", "ุญูุฒุฉ ุจู ุนุจุฏ ุงููุทูุจ", "ุนูุฑ ุจู ุงูุฎุทุงุจ"],
    answer: "ุณุนุฏ ุจู ุฃุจู ููุงุต",
    insight: "ููู ุฎุงู ุงููุจู ุตูู ุงููู ุนููู ูุณูู ูุฃุญุฏ ุงูุนุดุฑุฉ ุงููุจุดุฑูู ุจุงูุฌูุฉ."
  },
  {
    id: 15,
    category: "Seerah",
    difficulty: 1,
    question: "ูู ุฃู ุนุงู ูุงูุช ุงููุฌุฑุฉ ุงููุจููุฉุ",
    options: ["622 ู", "610 ู", "632 ู", "600 ู"],
    answer: "622 ู",
    insight: "ููุงูู ุงูุนุงู ุงูุฃูู ุงููุฌุฑูุ ููู ุจุฏุงูุฉ ุงูุชูููู ุงูุฅุณูุงูู."
  },
  {
    id: 16,
    category: "History",
    difficulty: 2,
    question: "ูุง ูู ุนุงุตูุฉ ุงูุฏููุฉ ุงูุฃูููุฉุ",
    options: ["ุฏูุดู", "ุจุบุฏุงุฏ", "ุงููุงูุฑุฉ", "ุงููููุฉ"],
    answer: "ุฏูุดู",
    insight: "ุงุชุฎุฐูุง ูุนุงููุฉ ุจู ุฃุจู ุณููุงู ุนุงุตูุฉ ูู ูููููู."
  },
  {
    id: 17,
    category: "Culture",
    difficulty: 1,
    question: "ูุง ูู ุงููุนุฏู ุงูุณุงุฆู ูู ุฏุฑุฌุฉ ุญุฑุงุฑุฉ ุงูุบุฑูุฉุ",
    options: ["ุงูุฒุฆุจู", "ุงูุญุฏูุฏ", "ุงููุญุงุณ", "ุงูุฃูููููู"],
    answer: "ุงูุฒุฆุจู",
    insight: "ูุณุชุฎุฏู ูู ููุงููุณ ุงูุญุฑุงุฑุฉ ูุงูุถุบุท."
  },
  {
    id: 18,
    category: "Islamic_Info",
    difficulty: 2,
    question: "ูุง ูู ุงูุณูุฑุฉ ุงูุชู ุชุนุฏู ุซูุซ ุงููุฑุขูุ",
    options: ["ุงูุฅุฎูุงุต", "ุงูููู", "ุงููุงุณ", "ุงููุงูุฑูู"],
    answer: "ุงูุฅุฎูุงุต",
    insight: "ูุฃููุง ุฃุฎูุตุช ุตูุฉ ุงูุฑุญูู ูุชุถููุช ุชูุญูุฏ ุงูุฃููููุฉ."
  },
  {
    id: 19,
    category: "Sahaba",
    difficulty: 3,
    question: "ูู ูู ุงูุตุญุงุจู ุงูุฐู ุฃุดุงุฑ ุจุญูุฑ ุงูุฎูุฏูุ",
    options: ["ุณููุงู ุงููุงุฑุณู", "ุนูุงุฑ ุจู ูุงุณุฑ", "ุตููุจ ุงูุฑููู", "ุฃุจู ุฐุฑ ุงูุบูุงุฑู"],
    answer: "ุณููุงู ุงููุงุฑุณู",
    insight: "ุงูุชุฑุญ ุงูุฎุทุฉ ุจูุงุกู ุนูู ุฎุจุฑุชู ูู ุญุฑูุจ ุงููุฑุณ."
  },
  {
    id: 20,
    category: "Seerah",
    difficulty: 2,
    question: "ูุง ุงุณู ูุงูุฉ ุงูุฑุณูู ุตูู ุงููู ุนููู ูุณููุ",
    options: ["ุงููุตูุงุก", "ุงูุดูุจุงุก", "ุงูุจุฑุงู", "ุงูุฏููุงุก"],
    answer: "ุงููุตูุงุก",
    insight: "ูู ุงูุชู ูุงุฌุฑ ุนูููุง ูู ููุฉ ุฅูู ุงููุฏููุฉ."
  },
  {
    id: 21,
    category: "History",
    difficulty: 4,
    question: "ูู ูู ูุคุณุณ ุฏููุฉ ุงูุฃุบุงูุจุฉ ูู ุฅูุฑูููุฉุ",
    options: ["ุฅุจุฑุงููู ุจู ุงูุฃุบูุจ", "ุงูุฃุบูุจ ุจู ุณุงูู", "ุฒูุงุฏุฉ ุงููู ุงูุฃูู", "ุงููุนุฒ ุจู ุจุงุฏูุณ"],
    answer: "ุฅุจุฑุงููู ุจู ุงูุฃุบูุจ",
    insight: "ุชุฃุณุณุช ุนุงู 184ูู ููุงูุช ุชุงุจุนุฉ ุงุณููุงู ููุฎูุงูุฉ ุงูุนุจุงุณูุฉ."
  },
  {
    id: 22,
    category: "Culture",
    difficulty: 2,
    question: "ูุง ูู ุฃูุจุฑ ุฌุฒูุฑุฉ ูู ุงูุนุงููุ",
    options: ["ุฌุฑูููุงูุฏ", "ูุฏุบุดูุฑ", "ุจูุฑููู", "ุบูููุง ุงูุฌุฏูุฏุฉ"],
    answer: "ุฌุฑูููุงูุฏ",
    insight: "ุชุนุชุจุฑ ุฅููููุงู ุฏููุงุฑููุงู ุฐุงุชู ุงูุญูู."
  },
  {
    id: 23,
    category: "Islamic_Info",
    difficulty: 3,
    question: "ูุชู ููุฑุถ ุงูุตูุงู ูู ุงูุฅุณูุงูุ",
    options: ["ุงูุณูุฉ ุงูุซุงููุฉ ูููุฌุฑุฉ", "ุงูุณูุฉ ุงูุซุงูุซุฉ ูููุฌุฑุฉ", "ุงูุณูุฉ ุงูุฎุงูุณุฉ ูููุฌุฑุฉ", "ุงูุณูุฉ ุงูุนุงุดุฑุฉ ููุจุนุซุฉ"],
    answer: "ุงูุณูุฉ ุงูุซุงููุฉ ูููุฌุฑุฉ",
    insight: "ูุฑุถ ูู ุดูุฑ ุดุนุจุงู ูู ุงูุณูุฉ ุงูุซุงููุฉ."
  },
  {
    id: 24,
    category: "Sahaba",
    difficulty: 4,
    question: "ูู ูู ุงูุตุญุงุจู ุงููุนุฑูู ุจู 'ุบุณูู ุงูููุงุฆูุฉ'ุ",
    options: ["ุญูุธูุฉ ุจู ุฃุจู ุนุงูุฑ", "ุฎุฒููุฉ ุจู ุซุงุจุช", "ุณุนุฏ ุจู ุงูุฑุจูุน", "ุนุจุฏุงููู ุจู ุญุฑุงู"],
    answer: "ุญูุธูุฉ ุจู ุฃุจู ุนุงูุฑ",
    insight: "ูุฃูู ุงุณุชุดูุฏ ูู ุฃุญุฏ ููู ุฌูุจ ูุบุณูุชู ุงูููุงุฆูุฉ."
  },
  {
    id: 25,
    category: "Seerah",
    difficulty: 3,
    question: "ูุง ูู ุงูุนุงู ุงูุฐู ููุฑุถ ููู ุงูุญุฌุงุจุ",
    options: ["ุงูุณูุฉ ุงูุฑุงุจุนุฉ ูููุฌุฑุฉ", "ุงูุณูุฉ ุงูุซุงููุฉ ูููุฌุฑุฉ", "ุงูุณูุฉ ุงูุณุงุฏุณุฉ ูููุฌุฑุฉ", "ุงูุณูุฉ ุงูุฎุงูุณุฉ ูููุฌุฑุฉ"],
    answer: "ุงูุณูุฉ ุงูุฑุงุจุนุฉ ูููุฌุฑุฉ",
    insight: "ูุฒู ุชุดุฑูุน ุงูุญุฌุงุจ ูู ุงููุฏููุฉ ุงููููุฑุฉ."
  },
  {
    id: 26,
    category: "History",
    difficulty: 3,
    question: "ูุง ูู ุงููุนุงูุฏุฉ ุงูุชู ุฃููุช ุงูุญุฑุจ ุงูุนุงูููุฉ ุงูุฃููู ูุฃุซุฑุช ุนูู ุงูุฏููุฉ ุงูุนุซูุงููุฉุ",
    options: ["ูุนุงูุฏุฉ ุณููุฑ", "ูุนุงูุฏุฉ ููุฒุงู", "ูุนุงูุฏุฉ ูุฑุณุงู", "ูุนุงูุฏุฉ ุณุงููุณ ุจููู"],
    answer: "ูุนุงูุฏุฉ ุณููุฑ",
    insight: "ููุนุช ุนุงู 1920 ููุงูุช ูุงุณูุฉ ุฌุฏุงู ููุง ููุฏ ูุญุฑุจ ุงูุงุณุชููุงู ุงูุชุฑููุฉ."
  },
  {
    id: 27,
    category: "Culture",
    difficulty: 3,
    question: "ูู ูู ุงูุนุงูู ุงูุฐู ุงูุชุดู ุงูุฏูุฑุฉ ุงูุฏูููุฉ ุงููุจุฑูุ",
    options: ["ููููุงู ูุงุฑูู", "ุงุจู ุงููููุณ", "ุฌุงููููุณ", "ุงูุฑุงุฒู"],
    answer: "ููููุงู ูุงุฑูู",
    insight: "ุจูููุง ุงูุชุดู ุงุจู ุงููููุณ ุงูุฏูุฑุฉ ุงูุฏูููุฉ ุงูุตุบุฑู ูุจูู ุจูุฑูู."
  },
  {
    id: 28,
    category: "Islamic_Info",
    difficulty: 2,
    question: "ูุง ูู ุงููุชุงุจ ุงูุฐู ูุนุชุจุฑ ุฃุตุญ ุงููุชุจ ุจุนุฏ ุงููุฑุขู ุงููุฑููุ",
    options: ["ุตุญูุญ ุงูุจุฎุงุฑู", "ุตุญูุญ ูุณูู", "ููุทุฃ ูุงูู", "ูุณูุฏ ุฃุญูุฏ"],
    answer: "ุตุญูุญ ุงูุจุฎุงุฑู",
    insight: "ููุงูุชุฒุงูู ุจุฃูุตู ุดุฑูุท ุงูุตุญุฉ ูู ูุจูู ุงูุญุฏูุซ."
  },
  {
    id: 29,
    category: "Sahaba",
    difficulty: 2,
    question: "ูู ูู ุงูุตุญุงุจู ุงูุฐู ูููุจ ุจู 'ุชุฑุฌูุงู ุงููุฑุขู'ุ",
    options: ["ุนุจุฏ ุงููู ุจู ุนุจุงุณ", "ุนุจุฏ ุงููู ุจู ูุณุนูุฏ", "ุฃุจู ุจู ูุนุจ", "ุฒูุฏ ุจู ุซุงุจุช"],
    answer: "ุนุจุฏ ุงููู ุจู ุนุจุงุณ",
    insight: "ุฏุนุง ูู ุงููุจู ุจุงูููู ูู ุงูุฏูู ูุชุนููู ุงูุชุฃููู."
  },
  {
    id: 30,
    category: "Seerah",
    difficulty: 2,
    question: "ูู ูู ุฑููู ุงููุจู ูู ุงููุฌุฑุฉ ุฅูู ุงููุฏููุฉุ",
    options: ["ุฃุจู ุจูุฑ ุงูุตุฏูู", "ุนูู ุจู ุฃุจู ุทุงูุจ", "ุนูุฑ ุจู ุงูุฎุทุงุจ", "ุนุซูุงู ุจู ุนูุงู"],
    answer: "ุฃุจู ุจูุฑ ุงูุตุฏูู",
    insight: "ุฐูุฑู ุงููู ูู ุงููุฑุขู ุจู 'ุซุงูู ุงุซููู ุฅุฐ ููุง ูู ุงูุบุงุฑ'."
  },
  {
    id: 31,
    category: "History",
    difficulty: 3,
    question: "ูุชู ุณูุทุช ุบุฑูุงุทุฉุ ุขุฎุฑ ูุนุงูู ุงููุณูููู ูู ุงูุฃูุฏูุณุ",
    options: ["1492 ู", "1453 ู", "1099 ู", "1258 ู"],
    answer: "1492 ู",
    insight: "ุณูููุง ุฃุจู ุนุจุฏ ุงููู ุงูุตุบูุฑ ููููููู ูุฑุฏููุงูุฏ ูุฅูุฒุงุจููุง."
  },
  {
    id: 32,
    category: "Culture",
    difficulty: 2,
    question: "ูุง ูู ุงูุฏููุฉ ุงูุชู ุนุงุตูุชูุง 'ูุณูุท'ุ",
    options: ["ุณูุทูุฉ ุนูุงู", "ุงูููู", "ุงูุจุญุฑูู", "ุงูุฃุฑุฏู"],
    answer: "ุณูุทูุฉ ุนูุงู",
    insight: "ุชูุน ูู ุฌููุจ ุดุฑู ุดุจู ุงูุฌุฒูุฑุฉ ุงูุนุฑุจูุฉ."
  },
  {
    id: 33,
    category: "Islamic_Info",
    difficulty: 1,
    question: "ูู ุนุฏุฏ ุฃุฑูุงู ุงูุฅุณูุงูุ",
    options: ["5 ุฃุฑูุงู", "6 ุฃุฑูุงู", "4 ุฃุฑูุงู", "3 ุฃุฑูุงู"],
    answer: "5 ุฃุฑูุงู",
    insight: "ุงูุดูุงุฏุชุงูุ ุงูุตูุงุฉุ ุงูุฒูุงุฉุ ุงูุตููุ ุงูุญุฌ."
  },
  {
    id: 34,
    category: "Sahaba",
    difficulty: 3,
    question: "ูู ูู ุงูุตุญุงุจู ุงูุฐู ุฌุนู ุงููู ุดูุงุฏุชู ุจุดูุงุฏุฉ ุฑุฌูููุ",
    options: ["ุฎุฒููุฉ ุจู ุซุงุจุช", "ุฃุจู ุฃููุจ ุงูุฃูุตุงุฑู", "ุนุจุงุฏุฉ ุจู ุงูุตุงูุช", "ุฃูุณ ุจู ูุงูู"],
    answer: "ุฎุฒููุฉ ุจู ุซุงุจุช",
    insight: "ูู ูุตุฉ ุดุฑุงุก ุงููุจู ูููุฑุณ ูู ุงูุฃุนุฑุงุจู."
  },
  {
    id: 35,
    category: "Seerah",
    difficulty: 3,
    question: "ูุง ูู ุงูุบุฒูุฉ ุงูุชู ููุณุฑุช ูููุง ุฑุจุงุนูุฉ ุงููุจู ูุดูุฌ ูุฌููุ",
    options: ["ุฃุญุฏ", "ุจุฏุฑ", "ุงูุฎูุฏู", "ุญููู"],
    answer: "ุฃุญุฏ",
    insight: "ุจุณุจุจ ูุฎุงููุฉ ุงูุฑูุงุฉ ูุฃูุฑ ุงููุจู ููุฒูููู ุนู ุงูุฌุจู."
  },
  {
    id: 36,
    category: "History",
    difficulty: 2,
    question: "ูู ูู ุงูุฎูููุฉ ุงูุฐู ุฃูุฑ ุจุฌูุน ุงููุฑุขู ูู ูุตุญู ูุงุญุฏ ูุฃูู ูุฑุฉุ",
    options: ["ุฃุจู ุจูุฑ ุงูุตุฏูู", "ุนูุฑ ุจู ุงูุฎุทุงุจ", "ุนุซูุงู ุจู ุนูุงู", "ุนูู ุจู ุฃุจู ุทุงูุจ"],
    answer: "ุฃุจู ุจูุฑ ุงูุตุฏูู",
    insight: "ุจุนุฏ ุงุณุชุดูุงุฏ ุนุฏุฏ ูุจูุฑ ูู ุงูุญูุงุธ ูู ุญุฑูุจ ุงูุฑุฏุฉ."
  },
  {
    id: 37,
    category: "Culture",
    difficulty: 2,
    question: "ูู ูู ุงูุดุงุนุฑ ุงูุฐู ูููุจ ุจู 'ุฃููุฑ ุงูุดุนุฑุงุก'ุ",
    options: ["ุฃุญูุฏ ุดููู", "ุญุงูุธ ุฅุจุฑุงููู", "ุงููุชูุจู", "ุงูุจุญุชุฑู"],
    answer: "ุฃุญูุฏ ุดููู",
    insight: "ุดุงุนุฑ ูุตุฑู ูุนุฏ ูู ุฃุนุธู ุดุนุฑุงุก ุงูุนุฑุจูุฉ ูู ุงูุนุตุฑ ุงูุญุฏูุซ."
  },
  {
    id: 38,
    category: "Islamic_Info",
    difficulty: 4,
    question: "ูุง ูู ุงููุชุจ ุงูุณุชุฉ ุงููุนุชูุฏุฉ ูู ุงูุญุฏูุซุ",
    options: [
      "ุงูุจุฎุงุฑูุ ูุณููุ ุงูุชุฑูุฐูุ ุงููุณุงุฆูุ ุฃุจู ุฏุงูุฏุ ุงุจู ูุงุฌู",
      "ุงูุจุฎุงุฑูุ ูุณููุ ุงูููุทุฃุ ุงููุณูุฏุ ุณูู ุงูุฏุงุฑููุ ุงุจู ุญุจุงู",
      "ุงูุจุฎุงุฑูุ ูุณููุ ุงูุชุฑูุฐูุ ุงููุณุงุฆูุ ุฃุจู ุฏุงูุฏุ ุงูุฏุงุฑูุทูู",
      "ุงูุจุฎุงุฑูุ ูุณููุ ุงููุณุชุฏุฑูุ ุงููุนุฌู ุงููุจูุฑุ ุงูุจููููุ ุงูููุทุฃ"
    ],
    answer: "ุงูุจุฎุงุฑูุ ูุณููุ ุงูุชุฑูุฐูุ ุงููุณุงุฆูุ ุฃุจู ุฏุงูุฏุ ุงุจู ูุงุฌู",
    insight: "ุชุนุฑู ุจู 'ุงููุชุจ ุงูุณุชุฉ' ููู ุฃูู ูุฑุงุฌุน ุงูุณูุฉ ุงููุจููุฉ."
  },
  {
    id: 39,
    category: "Sahaba",
    difficulty: 2,
    question: "ูู ูู ุขุฎุฑ ูู ุชููู ูู ุงูุนุดุฑุฉ ุงููุจุดุฑูู ุจุงูุฌูุฉุ",
    options: ["ุณุนุฏ ุจู ุฃุจู ููุงุต", "ุณุนูุฏ ุจู ุฒูุฏ", "ุทูุญุฉ ุจู ุนุจูุฏ ุงููู", "ุงูุฒุจูุฑ ุจู ุงูุนูุงู"],
    answer: "ุณุนุฏ ุจู ุฃุจู ููุงุต",
    insight: "ุชููู ูู ูุตุฑู ุจุงูุนููู ูุญูู ุฅูู ุงููุฏููุฉ."
  },
  {
    id: 40,
    category: "Seerah",
    difficulty: 2,
    question: "ูุง ุงุณู ุงูุนุงู ุงูุฐู ููุฏ ููู ุงููุจู ุตูู ุงููู ุนููู ูุณููุ",
    options: ["ุนุงู ุงูููู", "ุนุงู ุงูุญุฒู", "ุนุงู ุงูุฑูุงุฏุฉ", "ุนุงู ุงููููุฏ"],
    answer: "ุนุงู ุงูููู",
    insight: "ุงูุฐู ุญุงูู ููู ุฃุจุฑูุฉ ูุฏู ุงููุนุจุฉ."
  },
  {
    id: 41,
    category: "History",
    difficulty: 3,
    question: "ูู ูู ุงูุณูุทุงู ุงูุนุซูุงูู ุงูุฐู ุงูุชุตุฑ ูู ูุนุฑูุฉ ุงูุฑูุฏุงููุฉุ",
    options: ["ุณููู ุงูุฃูู", "ุณูููุงู ุงููุงูููู", "ุจุงูุฒูุฏ ุงูุซุงูู", "ูุฑุงุฏ ุงูุฑุงุจุน"],
    answer: "ุณููู ุงูุฃูู",
    insight: "ุฃููู ุญูู ุงูููุงููู ูู ูุตุฑ ุนุงู 1517ู."
  },
  {
    id: 42,
    category: "Culture",
    difficulty: 1,
    question: "ูุง ูู ุนููุฉ ุงูููููุฉ ุงููุชุญุฏุฉุ",
    options: ["ุงูุฌููู ุงูุฅุณุชุฑูููู", "ุงูููุฑู", "ุงูุฏููุงุฑ", "ุงููุฑูู"],
    answer: "ุงูุฌููู ุงูุฅุณุชุฑูููู",
    insight: "ูู ุฃูุฏู ุงูุนููุงุช ุงููุณุชูุฑุฉ ูู ุงูุนุงูู."
  },
  {
    id: 43,
    category: "Islamic_Info",
    difficulty: 2,
    question: "ูุง ุญูู ุตูุงุฉ ุงูุนูุฏููุ",
    options: ["ุณูุฉ ูุคูุฏุฉ", "ูุฑุถ ุนูู", "ูุจุงุญุฉ", "ุฑูู"],
    answer: "ุณูุฉ ูุคูุฏุฉ",
    insight: "ูุงุธุจ ุนูููุง ุงููุจู ุตูู ุงููู ุนููู ูุณูู ููู ูุชุฑููุง."
  },
  {
    id: 44,
    category: "Sahaba",
    difficulty: 2,
    question: "ูู ูู ุงูุตุญุงุจู ุงูุฐู ุฏุงูุน ุนู ุงููุจู ูู ุฃุญุฏ ุญุชู ุดูุช ูุฏูุ",
    options: ["ุทูุญุฉ ุจู ุนุจูุฏ ุงููู", "ุงูุฒุจูุฑ ุจู ุงูุนูุงู", "ุณุนุฏ ุจู ุฃุจู ููุงุต", "ุฃุจู ุฏุฌุงูุฉ"],
    answer: "ุทูุญุฉ ุจู ุนุจูุฏ ุงููู",
    insight: "ููุจ ุจู 'ุตูุฑ ููู ุฃุญุฏ' ููุซุฑุฉ ูุง ุฃุตุงุจู ุฏูุงุนุงู ุนู ุงูุฑุณูู."
  },
  {
    id: 45,
    category: "Seerah",
    difficulty: 2,
    question: "ูู ุนุฏุฏ ุฃููุงุฏ ุงููุจู ุตูู ุงููู ุนููู ูุณูู ูู ุงูุฐููุฑ ูุงูุฅูุงุซุ",
    options: ["7", "6", "5", "8"],
    answer: "7",
    insight: "ุงููุงุณูุ ุนุจุฏ ุงูููุ ุฅุจุฑุงูููุ ุฒููุจุ ุฑููุฉุ ุฃู ููุซููุ ูุงุทูุฉ."
  },
  {
    id: 46,
    category: "History",
    difficulty: 4,
    question: "ูู ุฃุณุณ ุฏููุฉ ุงููููุฌ (ุงูุณูุทูุฉ ุงูุฒุฑูุงุก)ุ",
    options: ["ุนูุงุฑุฉ ุจู ุฏููุณ", "ุนุจุฏ ุงููู ุฌูุงุน", "ุนุฌูุจ ุงููุงูุฌูู", "ุจุงุฏู ุงูุฑุงุจุน"],
    answer: "ุนูุงุฑุฉ ุจู ุฏููุณ",
    insight: "ุฃูู ุณูุทูุฉ ุฅุณูุงููุฉ ูุจุฑู ูู ุณูุงุฑ ุจุงูุณูุฏุงู."
  },
  {
    id: 47,
    category: "Culture",
    difficulty: 3,
    question: "ูู ูู ูุคูู ูุชุงุจ 'ุงูุจุฎูุงุก'ุ",
    options: ["ุงูุฌุงุญุธ", "ุงูุฃุตูุนู", "ุงุจู ุงููููุน", "ุจุฏูุน ุงูุฒูุงู ุงูููุฐุงูู"],
    answer: "ุงูุฌุงุญุธ",
    insight: "ูู ุฃูู ูุชุจ ุงูุฃุฏุจ ุงูุนุฑุจู ุงูุชู ุชุตูุฑ ุงูุญูุงุฉ ุงูุงุฌุชูุงุนูุฉ ูู ุงูุนุตุฑ ุงูุนุจุงุณู."
  },
  {
    id: 48,
    category: "Islamic_Info",
    difficulty: 2,
    question: "ูุง ูู ุงูุณูุฑุฉ ุงูุชู ุชุณูู 'ููุจ ุงููุฑุขู'ุ",
    options: ["ูุณ", "ุงูุฑุญูู", "ุงูููู", "ุงูููู"],
    answer: "ูุณ",
    insight: "ูุฑุฏ ูู ุงูุฃุซุฑ: 'ุฅู ููู ุดูุก ููุจุงูุ ูููุจ ุงููุฑุขู ูุณ'."
  },
  {
    id: 49,
    category: "Sahaba",
    difficulty: 3,
    question: "ูู ูู ุงูุตุญุงุจู ุงูุฐู ูุฒู ููู ููู ุงููู 'ููู ุงููุงุณ ูู ูุดุฑู ููุณู ุงุจุชุบุงุก ูุฑุถุงุช ุงููู'ุ",
    options: ["ุตููุจ ุงูุฑููู", "ุจูุงู ุจู ุฑุจุงุญ", "ุนูุงุฑ ุจู ูุงุณุฑ", "ุฎุจุงุจ ุจู ุงูุฃุฑุช"],
    answer: "ุตููุจ ุงูุฑููู",
    insight: "ุนูุฏูุง ุชูุงุฒู ุนู ูุงูู ููุฑูุด ููุงุจู ุงูุณูุงุญ ูู ุจุงููุฌุฑุฉ."
  },
  {
    id: 50,
    category: "Seerah",
    difficulty: 3,
    question: "ูู ูู ุงูุตุญุงุจู ุงูุฐู ุงุณุชุฎููู ุงููุจู ุนูู ุงููุฏููุฉ ูู ุบุฒูุฉ ุชุจููุ",
    options: ["ุนูู ุจู ุฃุจู ุทุงูุจ", "ุนุซูุงู ุจู ุนูุงู", "ุฃุจู ุจูุฑ ุงูุตุฏูู", "ุนุจุฏ ุงููู ุจู ุฃู ููุชูู"],
    answer: "ุนูู ุจู ุฃุจู ุทุงูุจ",
    insight: "ูุงู ูู ุงููุจู: 'ุฃูุง ุชุฑุถู ุฃู ุชููู ููู ุจููุฒูุฉ ูุงุฑูู ูู ููุณู'."
  }
];

/**
 * ุชุญููู ุฏุฑุฌุฉ ุงูุตุนูุจุฉ ุงูุฑูููุฉ ุฅูู ูุต ููุญุฏ
 */
function mapDifficulty(level) {
  const map = {
    1: "easy",
    2: "medium",
    3: "hard",
    4: "extreme"
  };
  return map[level] || "medium";
}

/**
 * ุชุญููู ุณุคุงู ูุงุญุฏ ูู ุงูุดูู ุงูุฎุงู ุฅูู ุงูุตูุบุฉ ุงูููุญุฏุฉ
 */
function mapQuestion(raw, index) {
  const prefix = `ุณุคุงู ุจูู v1 #${index + 1}`;

  if (!raw || !raw.question || !Array.isArray(raw.options) || raw.options.length < 2) {
    console.warn(`โ๏ธ ${prefix}: ุชู ุชุฎุทูู (ุณุคุงู ุฃู ุฎูุงุฑุงุช ุบูุฑ ููุชููุฉ).`);
    return null;
  }

  const questionText = cleanArabicText(raw.question);
  const options = raw.options
    .map((o) => (o ? cleanArabicText(String(o)) : null))
    .filter((o) => o && o.length > 0);

  if (options.length < 2) {
    console.warn(`โ๏ธ ${prefix}: ุชู ุชุฎุทูู (ุนุฏุฏ ุงูุฎูุงุฑุงุช ุจุนุฏ ุงูุชูุธูู ุฃูู ูู 2).`);
    return null;
  }

  // ุฅูุฌุงุฏ ูุคุดุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
  let correctIndex = options.findIndex(
    (opt) => opt === raw.answer || opt.includes(raw.answer) || raw.answer.includes(opt)
  );

  if (correctIndex === -1) {
    console.warn(`โ๏ธ ${prefix}: ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุฅุฌุงุจุฉ ุฏุงุฎู ุงูุฎูุงุฑุงุชุ ุณูุชู ุงูุชุฑุงุถ ุงูุฎูุงุฑ ุงูุฃูู ูุตุญูุญ.`);
    correctIndex = 0;
  }

  // ุชุตููู ุงููุฆุฉ ุชููุงุฆูุงู ูู ูุต ุงูุณุคุงู (ูุบุทู: ุงูุตุญุงุจุฉุ ุงูุณูุฑุฉุ ุงููููุ ุงููุฑุขูุ ุงูุญุฏูุซุ ุงูุนููุฏุฉุ ุงูุชุงุฑูุฎุ ุงููุบุฉุ ุงูุฌุบุฑุงููุงุ ุงูุซูุงูุฉ ุงูุนุงูุฉ)
  const category = classifyCategory(questionText);
  // ุชุนููู ุฏุฑุฌุฉ ุงูุตุนูุจุฉ ุงููุตูุฉ
  const difficulty = mapDifficulty(raw.difficulty);

  return {
    type: "mcq",
    category,
    difficulty,
    question_ar: questionText,
    options_ar: options,
    correctIndex,
    source_ar: "Islamic & Cultural Question Bank v1.0",
    explanation_ar: raw.insight || ""
  };
}

function importBankV1() {
  console.log("๐ฅ ุจุฏุก ุชุญููู Islamic & Cultural Question Bank - v1.0 ุฅูู ุงูุตูุบุฉ ุงูููุญุฏุฉ...\n");

  const mapped = RAW_QUESTIONS.map(mapQuestion).filter(Boolean);

  console.log(`๐ ุนุฏุฏ ุงูุฃุณุฆูุฉ ุงูุฎุงู: ${RAW_QUESTIONS.length}`);
  console.log(`โ ุนุฏุฏ ุงูุฃุณุฆูุฉ ุงููุญูููุฉ: ${mapped.length}`);

  // ุงูุชุญูู ูู ุตุญุฉ ุงูุตูุบุฉ
  const validation = validateQuestions(mapped);
  if (!validation.valid) {
    console.log(`\nโ๏ธ  ุฃุฎุทุงุก ุงูุชุญูู: ${validation.errors.length} ุฎุทุฃ`);
    validation.errors.slice(0, 20).forEach((e) => console.log(`  - ${e}`));
    if (validation.errors.length > 20) {
      console.log(`  ... ู ${validation.errors.length - 20} ุฃุฎุทุงุก ุฃุฎุฑู`);
    }
  }

  // ุญูุธ ุงูููู ุงููุงุชุฌ
  const dir = path.dirname(OUTPUT_PATH);
  if (!fs.existsSync(dir)) {
    fs.mkdirSync(dir, { recursive: true });
  }

  fs.writeFileSync(OUTPUT_PATH, JSON.stringify(mapped, null, 2), "utf-8");

  console.log(`\n๐พ ุชู ุญูุธ ุงูููู ุงูููุญุฏ ูู: ${OUTPUT_PATH}`);
  console.log(`   ุนุฏุฏ ุงูุฃุณุฆูุฉ ุงูุฌุงูุฒุฉ ููุฅุฏุฎุงู ูู ุงููุงุนุฏุฉ: ${mapped.length}`);
}

if (require.main === module) {
  importBankV1();
}

module.exports = {
  importBankV1
};

